version: v1alpha1
debug: false
persist: true
machine:
    type: worker
    token: inyots.3j8o57egeoaw7cwh
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEJkdHB3ejBkSmJVYTdWVUNGY2hiNHBNQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU1qQTFNalV5TWpBME1UTmFGdzB6TWpBMU1qSXlNakEwTVROYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBa1pzai9DcytrRHlhenltVWM5OEViVUUxd0hpZUtOSGtlQzBwCnU0WUh4K0tqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVNjBBRmkzV05sYldxQVI0QwpzL1VkV2NsY05HTXdCUVlESzJWd0EwRUFNQVpSMXJSQ2JGeUZqN2NDMkI0YVZacHV1c0JvdmlZa05EUS92NDhjCnNZNmJiTFhRM1JXL0hNTmkzZlUrdit0WGs0WUppejZ6QUo1QjM1QjlVVkVPREE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ""
    network:
        hostname: talos-aws-grav01
        kubespan:
            enabled: false
        interfaces:
            - interface: eth0
              dhcp: true
            - interface: wg0
              mtu: 1420
              addresses:
                - 10.45.100.2/24
              wireguard:
                privateKey: SA6Rv7OaQEOrjLSFEEyq+GwhZig09vVXihcwurVtPEE=
                peers:
                    - publicKey: 1HpDeBYJHFYI5vTxcdmXDC8GhbUcP3oqqeHT2sa5XhY=
                      endpoint: 64.98.81.128:13231
                      persistentKeepaliveInterval: 5s
                      allowedIPs:
                        - 10.45.100.1/32
                        - 10.45.0.0/23
                        - 10.56.0.0/16
                        - 10.200.0.0/24
              routes:
                - network: 10.45.0.0/23
                  gateway: 10.45.100.1
                - network: 10.200.0.0/24
                  gateway: 10.45.100.1
                - network: 10.56.0.0/16
                  gateway: 10.45.100.1
        nameservers:
            - 10.200.0.1
            - 8.8.8.8
    install:
        disk: /dev/nvme0n1
        image: ghcr.io/siderolabs/installer:v1.1.1
        bootloader: true
        wipe: false
    features:
        rbac: true
    kubelet:
        image: ghcr.io/siderolabs/kubelet:v1.24.2
        extraArgs:
            node-ip: 10.45.100.2
            rotate-server-certificates: true
cluster:
    id: r6_4dKuH6U9d2_LDvfMMlwj8GJ6HNcN-is-KNPXQktU=
    secret: ENqBSOBfe26jJ/bTmOUUtvDNdPB2ojdqxZHCSU4QP5A=
    controlPlane:
        endpoint: https://homelab.kube.danmanners.io:6443
    network:
        dnsDomain: cluster.local
        podSubnets:
            - 10.244.0.0/16
        serviceSubnets:
            - 10.96.0.0/12
    token: 5tbh92.6fne44zutsj3w11n
    aescbcEncryptionSecret: ""
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpVENDQVMrZ0F3SUJBZ0lRSTVYQmlYdm90VUZoOVZMTXFMMng2REFLQmdncWhrak9QUVFEQWpBVk1STXcKRVFZRFZRUUtFd3ByZFdKbGNtNWxkR1Z6TUI0WERUSXlNRFV5TlRJeU1EUXhNMW9YRFRNeU1EVXlNakl5TURReApNMW93RlRFVE1CRUdBMVVFQ2hNS2EzVmlaWEp1WlhSbGN6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VICkEwSUFCTWsvV1FvNVZOcFJkMEh3akNDeGxWbTNiYkF5SHNDZGcwbGtPQnhJZURIdnh2ZktjVzYwaGo2dnRyTjAKTnV0N3dvOGc5VHByeVNYRHFucDlSbUkwcXB5allUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWRCZ05WSFNVRQpGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFCkZnUVVNRnBNR3ovaXZyNzZDT3l4ODROU2R5ZHlsNVl3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQVBkVWlQUzIKRWVvVXlrUnNCTjg4eC8rUDJTZUNubURmRzVxOGZNWHozZkc0QWlBWDV0OFdnbHFHMm94SHI4VjREQmttdW9EVApBbEd1Wk9zbFFZUlJveUp3Unc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ""
    discovery:
        enabled: true
