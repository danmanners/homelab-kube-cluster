---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ns.yaml
  - ingress-class.yaml
  - metallb-service.yaml

helmCharts:
  - name: base
    releaseName: istio-base
    namespace: istio-system
    repo: https://istio-release.storage.googleapis.com/charts
    version: "1.16.2"
    valuesInline:
      base:
        enableCRDTemplates: true

  - name: istiod
    releaseName: istiod
    namespace: istio-system
    repo: https://istio-release.storage.googleapis.com/charts
    version: "1.16.2"

  - name: gateway
    releaseName: istio-ingress
    namespace: istio-ingress
    repo: https://istio-release.storage.googleapis.com/charts
    version: "1.16.2"
